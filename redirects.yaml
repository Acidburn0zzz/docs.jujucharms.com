(?P<version>1\.[0-9]{1,2}|2\.0|2\.1|2\.2|2\.3|2\.4|2\.5)(?P<path>.*): https://old-docs.jujucharms.com/{version}{path}

# Redirect /devel, /stable, /en (from old sitemap) to /
(devel|stable|en|devel/en|stable/en)/(?P<path>.*): /{path}

# Remove HTML extensions
(?P<path>.*)(\.html|/): /{path}

# URLs from the old docs.jujucharms.com, but not used in the URL map
about-juju: /what-is-juju/1032
actions: /working-with-actions/1033
authors-charm-actions: /implementing-actions-in-juju-charms/1035
authors-charm-benchmarks: /benchmarking-juju-applications/1036
authors-charm-best-practice: /best-practice-for-charm-authors/1037
authors-charm-components: /components-of-a-charm/1038
authors-charm-config: /creating-config-yaml-and-configuring-charms/1039
authors-charm-hooks: /charm-hooks/1040
authors-charm-icon: /creating-icons-for-charms/1041
authors-charm-leadership: /implementing-leadership-in-juju-charms/1042
authors-charm-metadata: /charm-metadata/1043
authors-charm-policy: /charm-store-policy/1044
authors-charm-store: /the-juju-charm-store/1045
authors-charm-writing: /writing-your-first-juju-charm/1046
authors-hook-environment: /the-hook-environment-hook-tools-and-how-hooks-are-run/1047
authors-hook-errors: /dealing-with-errors-encountered-by-charm-hooks/1048
authors-intro: /how-to-become-a-juju-charm-author/1049
authors-relations-in-depth: /the-lifecycle-of-charm-relations/1050
authors-relations: /implementing-relations-in-juju-charms/1051
authors-service-config: /application-configuration/1052
authors-subordinate-applications: /subordinate-applications/1053
charm-promulgation: /charm-promulgation/1054
charm-unmaintained-process: /unmaintained-charms/1056
charms-bundles-gui: /using-bundles-with-the-gui/1057
charms-bundles: /charm-bundles/1058
charms-config: /configuring-applications/1059
charms-constraints: /using-constraints/1060
charms-deploying-advanced: /deploying-applications-advanced/1061
charms-deploying: /deploying-applications/1062
charms-destroy: /removing-things/1063
charms-fan-aws-vpc: /creating-an-aws-vpc/1064
charms-fan: /fan-container-networking/1065
charms-ha: /application-high-availability/1066
charms-metrics: /application-metrics/1067
charms-offline-config: /configuring-juju-for-offline-usage/1068
charms-offline-deploying: /deploying-charms-offline/1069
charms-offline-lxd: /using-the-localhost-cloud-offline/1070
charms-offline-strategies: /offline-mode-strategies/1071
charms-offline: /working-offline/1072
charms-relations: /managing-relations/1073
charms-resources: /juju-resources/1074
charms-scaling: /scaling-applications/1075
charms-service-groups: /application-groups/1076
charms-storage-ceph: /installing-ceph/1077
charms-storage-k8s: /persistent-storage-and-kubernetes/1078
charms-storage: /using-juju-storage/1079
charms-upgrading: /upgrading-applications/1080
charms-working-with-units: /working-with-units/1081
command-changes: /command-changes-from-1-25-to-2-0/1101
config-tagging: /instance-naming-and-tagging-in-clouds/1102
contributing-en-GB: /language-details-contributing-to-juju-docs/1104
contributing: /writing-guide/1105
controllers-backup: /controller-backups/1106
controllers-config: /configuring-controllers/1107
controllers-creating: /creating-a-controller/1108
controllers-gui: /juju-gui/1109
controllers-ha: /controller-high-availability/1110
developer-actions: /actions-for-the-charm-author/1113
developer-debug-dhx: /dhx-a-customized-hook-debugging-environment-plugin/1114
developer-debug-layers: /debugging-building-layers/1115
developer-debugging: /debugging-charm-hooks/1116
developer-event-cycle: /event-cycle/1117
developer-getting-started: /getting-started-with-charm-development/1118
developer-howto: /developer-how-to/1119
developer-layer-example: /writing-a-layer-by-example/1120
developer-layers-interfaces: /interface-layers/1121
developer-layers: /layers-for-charm-authoring/1122
developer-leadership-howtos: /leadership-howtos/1123
developer-leadership: /implementing-leadership/1124
developer-metrics: /metric-collecting-charms/1125
developer-network-primitives: /charm-network-primitives/1126
developer-resources: /using-resources-developer-guide/1127
developer-storage: /writing-charms-that-use-storage/1128
developer-terms: /writing-charms-that-use-terms/1129
developer-testing: /writing-charm-tests/1130
developer-upgrade-charm: /upgrading-a-charm/1131
experts-sla: /managed-solutions/1132
getting-started-keygen-win: /creating-ssh-keypairs-on-windows/1133
getting-started: /getting-started-with-juju/1134
howto-charm-with-docker: /using-docker-in-charms/1135
howto-harvesting: /juju-and-machine-utilization/1136
howto-privatecloud: /cloud-image-metadata/1137
howto-prometheus: /collecting-juju-metrics/1138
interface-mysql: /charms-and-mysql-interfaces/1139
introducing-2: /introducing-juju-2-0/1140
juju-block: /disabling-commands/1141
juju-centos: /juju-support-for-centos7/1142
juju-coexist: /running-multiple-versions-of-juju/1143
juju-concepts: /concepts-and-terms/1144
models-adding: /adding-a-model/1147
models-cmr-scene-1: /cmr-scenario-1/1148
models-cmr-scene-2: /cmr-scenario-2/1149
models-cmr: /cross-model-relations/1150
models-config: /configuring-models/1151
models-migrate: /migrating-models/1152
models-upgrade-notes: /notes-on-upgrading-juju-software/1153
models-upgrade: /upgrading-models/1154
multiuser: /working-with-multiple-users/1156
network-spaces: /network-spaces/1157
reference-bundle: /bundle-reference/1158
reference-charm-hooks: /charm-hooks-reference/1159
reference-constraints: /juju-constraints/1160
reference-documents: /reference-documents/1161
reference-environment-variables: /juju-environment-variables/1162
reference-hook-tools: /hook-tools/1163
reference-install: /installing-juju/1164
reference-layer-yaml: /charm-layer-yaml-reference/1165
reference-release-notes: /release-notes/1166
reference-reviewers: /reviewing-charms-and-bundles/1167
reference-status: /charm-unit-status-and-their-meanings/1168
release-notes-2.4.0: /2-4-0-release-notes/1169
release-notes-2.4.1: /2-4-1-release-notes/1170
release-notes-2.4.2: /2-4-2-release-notes/1171
release-notes-2.4.3: /2-4-3-release-notes/1172
release-notes-2.4.4: /2-4-4-release-notes/1173
release-notes-2.4.5: /2-4-5-release-notes/1174
release-notes-2.4.6: /2-4-6-release-notes/1175
release-notes-2.4.7: /2-4-7-release-notes/1176
release-notes-2.5.0: /2-5-0-release-notes/1177
release-notes-2.5.1: /2-5-1-release-notes/1178
release-notes-2.5.2: /2-5-2-release-notes/1270
snaps-offline-installing: /installing-snaps-offline/1179
tools-amulet: /amulet-a-juju-test-library/1261
tools-charm-helpers: /charm-helpers/1262
tools-charm-tools: /charm-tools/1180
troubleshooting-additions: /troubleshooting-additions/1182
troubleshooting-clouds: /troubleshooting-clouds/1183
troubleshooting-logs: /juju-logs/1184
troubleshooting-removals: /troubleshooting-removals/1185
troubleshooting-upgrade: /troubleshooting-model-upgrades/1186
troubleshooting: /troubleshooting/1187
tut-charms: /introduction-to-juju-charms/1188
tut-google: /create-a-google-compute-engine-controller/1189
tut-users: /a-multi-user-cloud/1190
tutorial-client-basic: /basic-client-usage-tutorial/1191
tutorial-k8s-aws: /using-the-aws-integrator-charm-tutorial/1192
tutorial-k8s-charms: /understanding-kubernetes-charms-tutorial/1263
tutorial-k8s-static-pv: /setting-up-static-kubernetes-storage-tutorial/1193
tutorial-microk8s: /using-juju-with-microk8s-tutorial/1194
tutorial-multiuser-basic: /multi-user-basic-setup-tutorial/1195
tutorial-multiuser-external: /multi-user-external-setup-tutorial/1196
upgrade-series: /upgrading-a-machine-series/1198
users-sample-commands: /sample-command-usage-and-output-interpretation/1200
users: /user-types-and-abilities/1201
whats-new: /whats-new-in-2-5/1202
